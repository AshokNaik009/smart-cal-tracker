# Smart Calorie Counter

An AI-powered nutrition tracking web application using open-source LLMs (Groq API with Mixtral-8x7B) and Gemini Vision API for food recognition.

## Features

- **User Profile Management**: Age, sex, dietary preferences, allergies, health goals
- **Dual Input Methods**: 
  - Ingredient list analysis
  - Meal photo recognition using Gemini Vision
- **Nutrition Calculation**: Automatic calorie and macro calculation
- **AI Meal Planning**: Daily meal plans generated by LLM
- **PDF Export**: Save meal plans as PDF documents
- **Mobile Responsive**: Works on all device sizes
- **Privacy-Focused**: No user data storage, local processing

## Technology Stack

### Backend
- **FastAPI**: Python web framework
- **Groq API**: Mixtral-8x7B LLM for text processing
- **Gemini Vision**: Food photo recognition
- **ReportLab**: PDF generation

### Frontend
- **React**: Modern web interface
- **Axios**: HTTP client
- **Responsive CSS**: Mobile-first design

## Setup Instructions

### Prerequisites
- Python 3.8+
- Node.js 16+
- Groq API key
- Google Gemini API key

### Backend Setup

1. Navigate to backend directory:
```bash
cd backend
```

2. Create virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Set up environment variables (already configured in .env):
```
GROQ_API_KEY=your_groq_api_key
GEMINI_API_KEY=your_gemini_api_key
```

5. Start the backend server:
```bash
python main.py
```

The API will be available at `http://localhost:8000`

### Frontend Setup

1. Navigate to frontend directory:
```bash
cd frontend
```

2. Install dependencies:
```bash
npm install
```

3. Start the development server:
```bash
npm start
```

The web app will be available at `http://localhost:3000`

## API Endpoints

### POST /analyze-ingredients
Analyze nutrition from ingredient list
- **Input**: User profile + ingredients array
- **Output**: Nutrition breakdown and daily percentage

### POST /analyze-photo
Analyze nutrition from meal photo
- **Input**: Image file + user profile
- **Output**: Food identification + nutrition analysis

### POST /generate-meal-plan
Generate daily meal plan
- **Input**: User profile
- **Output**: Customized meal plan with recipes

### POST /export-pdf
Export meal plan to PDF
- **Input**: Meal plan data
- **Output**: PDF file download

## Usage

1. **Fill User Profile**: Enter age, sex, dietary preferences, allergies, and health goals
2. **Choose Input Method**:
   - **Ingredient List**: Type ingredients line by line
   - **Photo Upload**: Upload a meal photo
3. **Analyze Nutrition**: Get calorie and macro breakdown
4. **Generate Meal Plan**: Create a personalized daily meal plan
5. **Export PDF**: Save your meal plan for offline use

## Nutrition Database

The app includes a built-in nutrition database with common foods. For production use, consider integrating with:
- USDA Food Data Central API
- Open Food Facts API
- Nutritionix API

## Privacy & Security

- No user data is stored permanently
- All processing happens during the session
- API keys are securely stored in environment variables
- No cloud LLM calls for user data

## Customization

### Adding New Foods
Edit the `nutrition_db` dictionary in `backend/main.py` to add more foods.

### Modifying LLM Prompts
Update prompts in the FastAPI endpoints to customize AI behavior.

### Styling
Modify `frontend/src/index.css` for UI customization.

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

<!-- ## License

This project is open source and available under the MIT License. -->